!function(g){function I(A){if(C[A])return C[A].exports;var n=C[A]={i:A,l:!1,exports:{}};return g[A].call(n.exports,n,n.exports,I),n.l=!0,n.exports}var C={};return I.m=g,I.c=C,I.i=function(g){return g},I.d=function(g,I,C){Object.defineProperty(g,I,{configurable:!1,enumerable:!0,get:C})},I.o=function(g,I){return Object.prototype.hasOwnProperty.call(g,I)},I.p="",I(I.s=4)}([/*!********************!*\
  !*** ./request.js ***!
  \********************/
function(module,exports){"use strict";eval("\"use strict\";\nfunction buildHttpMethodFunction(method) {\n    /**\n     * make http request user fetch API.\n     * if path param is a complete url then fetch ues path as url,\n     * else path is not a complete url string but just a path then fetch url=requestConfig.baseURL+path\n     * url string will been auto revised, etc: http://localhost/api//user///id/ will convert to http://localhost/api/user/id\n     * @param path url path\n     */\n    function httpRequest(path) {\n        var url = path;\n        if (!/^https?:\\/\\/.+$/g.test(path)) {\n            url = exports.requestConfig.baseURL + '/' + path;\n        }\n        url = url.replace(/\\/{2,}/g, '/').replace(/:\\//g, '://');\n        return new Request({ url: url, method: method });\n    }\n    return httpRequest;\n}\nvar Request = (function () {\n    /**\n     * @param fetchOptions\n     */\n    function Request(fetchOptions) {\n        /**\n         * store fetch options\n         */\n        this.options = {\n            headers: {}\n        };\n        /**\n         * has this request been send\n         */\n        this.hasSend = false;\n        /**\n         * The Response interface of the Fetch API represents the response to a request.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/Response\n         */\n        this.response = null;\n        /**\n         * if error happen during request error will store in there,else this will be null\n         */\n        this.error = null;\n        Object.assign(this.options, exports.requestConfig.globalFetchOptions, fetchOptions);\n    }\n    /**\n     * reset query param in request url by append ? and query param to end of url\n     * @param obj\n     */\n    Request.prototype.queryParam = function (obj) {\n        if (obj != null) {\n            var arr = [];\n            for (var key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                    arr.push(key + \"=\" + obj[key]);\n                }\n            }\n            this.options.url = this.options.url.split('?')[0] + '?' + arr.join('&');\n        }\n        return this;\n    };\n    /**\n     * set request body use json\n     * HTTP Header Content-Type will set as application/json\n     * @param obj\n     */\n    Request.prototype.jsonBody = function (obj) {\n        this.options.body = JSON.stringify(obj);\n        this.options.headers['Content-Type'] = 'application/json';\n        return this;\n    };\n    /**\n     * set request body as form type\n     * parse obj to form string\n     * HTTP Header Content-Type will set as application/x-www-form-urlencoded\n     * @param obj\n     */\n    Request.prototype.formBody = function (obj) {\n        var arr = [];\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                arr.push(key + \"=\" + obj[key]);\n            }\n        }\n        this.options.body = arr.join('&');\n        this.options.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n        return this;\n    };\n    /**\n     * send fetch request\n     * get response's data\n     * resolve:\n     *      if response content-type is null,then resolve null\n     *      if response content-type has string json,then read response data as json and resolve pure json\n     *      else read response data as text and resolve plain text\n     */\n    Request.prototype.send = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (_this.hasSend) {\n                if (_this.error == null) {\n                    resolve(_this.responseData);\n                }\n                else {\n                    reject(_this.error);\n                }\n            }\n            else {\n                _this.hasSend = true;\n                var fetchStartHook = exports.requestConfig.fetchStartHook, fetchEndHook_1 = exports.requestConfig.fetchEndHook;\n                fetchStartHook && fetchStartHook(_this);\n                fetch(_this.options.url, _this.options).then(function (response) {\n                    _this.response = response;\n                    var contentType = response.headers.get('content-type');\n                    if (contentType == null) {\n                        return Promise.resolve();\n                    }\n                    else {\n                        if (/.*json.*/.test(contentType)) {\n                            //noinspection JSUnresolvedFunction\n                            return response.json();\n                        }\n                        else {\n                            return response.text();\n                        }\n                    }\n                }).then(function (data) {\n                    _this.responseData = data;\n                    if (_this.response.ok) {\n                        return Promise.resolve(data);\n                    }\n                    else {\n                        return Promise.reject(data);\n                    }\n                }).then(function (data) {\n                    fetchEndHook_1 && fetchEndHook_1(_this);\n                    resolve(data);\n                }).catch(function (err) {\n                    _this.error = err;\n                    fetchEndHook_1 && fetchEndHook_1(_this);\n                    reject(_this);\n                });\n            }\n        });\n    };\n    /**\n     * send request follow _links's href\n     * resolve:\n     *      if response content-type is null,then resolve null\n     *      if response content-type has string json,then read response data as json and resolve pure json\n     *      else read response data as text and resolve plain text\n     */\n    Request.prototype.follow = function (keys) {\n        var _this = this;\n        var self = this;\n        return new Promise(function (resolve, reject) {\n            function doFollow(data) {\n                var key = keys.shift();\n                if (key) {\n                    var links = data['_links'];\n                    var url = links[key];\n                    if (url != null) {\n                        url = url['href'];\n                        exports.get(url).send().then(function (data) {\n                            doFollow(data);\n                        }).catch(function (self) {\n                            reject(self);\n                        });\n                    }\n                    else {\n                        self.error = \"no key=\" + key + \" in links \" + JSON.stringify(links, null, 4);\n                        reject(this);\n                    }\n                }\n                else {\n                    resolve(data);\n                }\n            }\n            _this.send().then(function (data) {\n                doFollow(data);\n            }).catch(function (self) {\n                reject(self);\n            });\n        });\n    };\n    return Request;\n}());\nexports.Request = Request;\nexports.requestConfig = {\n    globalFetchOptions: {},\n    baseURL: '/',\n    fetchStartHook: null,\n    fetchEndHook: null\n};\n/**\n * make http get request\n * @param path url path\n */\nexports.get = buildHttpMethodFunction('GET');\n/**\n * make http post request\n * @param path url path\n */\nexports.post = buildHttpMethodFunction('POST');\n/**\n * make http patch request\n * @param path url path\n */\nexports.patch = buildHttpMethodFunction('PATCH');\n/**\n * make http put request\n * @param path url path\n */\nexports.put = buildHttpMethodFunction('PUT');\n//noinspection ReservedWordAsName\n/**\n * make http remove request\n * @param path url path\n */\nexports.deleteMethod = buildHttpMethodFunction('DELETE');\n/**\n * mockRequest a request with data\n * @param {object} data\n */\nfunction mockRequest(data) {\n    var url = data['_links']['self']['href'];\n    var req = new Request({ url: url, method: 'GET' });\n    req.responseData = data;\n    req.hasSend = true;\n    return req;\n}\nexports.mockRequest = mockRequest;\n//# sourceMappingURL=request.js.map//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3JlcXVlc3QuanM/YzYxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGJ1aWxkSHR0cE1ldGhvZEZ1bmN0aW9uKG1ldGhvZCkge1xuICAgIC8qKlxuICAgICAqIG1ha2UgaHR0cCByZXF1ZXN0IHVzZXIgZmV0Y2ggQVBJLlxuICAgICAqIGlmIHBhdGggcGFyYW0gaXMgYSBjb21wbGV0ZSB1cmwgdGhlbiBmZXRjaCB1ZXMgcGF0aCBhcyB1cmwsXG4gICAgICogZWxzZSBwYXRoIGlzIG5vdCBhIGNvbXBsZXRlIHVybCBzdHJpbmcgYnV0IGp1c3QgYSBwYXRoIHRoZW4gZmV0Y2ggdXJsPXJlcXVlc3RDb25maWcuYmFzZVVSTCtwYXRoXG4gICAgICogdXJsIHN0cmluZyB3aWxsIGJlZW4gYXV0byByZXZpc2VkLCBldGM6IGh0dHA6Ly9sb2NhbGhvc3QvYXBpLy91c2VyLy8vaWQvIHdpbGwgY29udmVydCB0byBodHRwOi8vbG9jYWxob3N0L2FwaS91c2VyL2lkXG4gICAgICogQHBhcmFtIHBhdGggdXJsIHBhdGhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBodHRwUmVxdWVzdChwYXRoKSB7XG4gICAgICAgIHZhciB1cmwgPSBwYXRoO1xuICAgICAgICBpZiAoIS9eaHR0cHM/OlxcL1xcLy4rJC9nLnRlc3QocGF0aCkpIHtcbiAgICAgICAgICAgIHVybCA9IGV4cG9ydHMucmVxdWVzdENvbmZpZy5iYXNlVVJMICsgJy8nICsgcGF0aDtcbiAgICAgICAgfVxuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvXFwvezIsfS9nLCAnLycpLnJlcGxhY2UoLzpcXC8vZywgJzovLycpO1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3QoeyB1cmw6IHVybCwgbWV0aG9kOiBtZXRob2QgfSk7XG4gICAgfVxuICAgIHJldHVybiBodHRwUmVxdWVzdDtcbn1cbnZhciBSZXF1ZXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZmV0Y2hPcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVxdWVzdChmZXRjaE9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN0b3JlIGZldGNoIG9wdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBoYXMgdGhpcyByZXF1ZXN0IGJlZW4gc2VuZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYXNTZW5kID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgUmVzcG9uc2UgaW50ZXJmYWNlIG9mIHRoZSBGZXRjaCBBUEkgcmVwcmVzZW50cyB0aGUgcmVzcG9uc2UgdG8gYSByZXF1ZXN0LlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SZXNwb25zZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpZiBlcnJvciBoYXBwZW4gZHVyaW5nIHJlcXVlc3QgZXJyb3Igd2lsbCBzdG9yZSBpbiB0aGVyZSxlbHNlIHRoaXMgd2lsbCBiZSBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsIGV4cG9ydHMucmVxdWVzdENvbmZpZy5nbG9iYWxGZXRjaE9wdGlvbnMsIGZldGNoT3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlc2V0IHF1ZXJ5IHBhcmFtIGluIHJlcXVlc3QgdXJsIGJ5IGFwcGVuZCA/IGFuZCBxdWVyeSBwYXJhbSB0byBlbmQgb2YgdXJsXG4gICAgICogQHBhcmFtIG9ialxuICAgICAqL1xuICAgIFJlcXVlc3QucHJvdG90eXBlLnF1ZXJ5UGFyYW0gPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIGlmIChvYmogIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChrZXkgKyBcIj1cIiArIG9ialtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudXJsID0gdGhpcy5vcHRpb25zLnVybC5zcGxpdCgnPycpWzBdICsgJz8nICsgYXJyLmpvaW4oJyYnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHNldCByZXF1ZXN0IGJvZHkgdXNlIGpzb25cbiAgICAgKiBIVFRQIEhlYWRlciBDb250ZW50LVR5cGUgd2lsbCBzZXQgYXMgYXBwbGljYXRpb24vanNvblxuICAgICAqIEBwYXJhbSBvYmpcbiAgICAgKi9cbiAgICBSZXF1ZXN0LnByb3RvdHlwZS5qc29uQm9keSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgICAgICB0aGlzLm9wdGlvbnMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogc2V0IHJlcXVlc3QgYm9keSBhcyBmb3JtIHR5cGVcbiAgICAgKiBwYXJzZSBvYmogdG8gZm9ybSBzdHJpbmdcbiAgICAgKiBIVFRQIEhlYWRlciBDb250ZW50LVR5cGUgd2lsbCBzZXQgYXMgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXG4gICAgICogQHBhcmFtIG9ialxuICAgICAqL1xuICAgIFJlcXVlc3QucHJvdG90eXBlLmZvcm1Cb2R5ID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKGtleSArIFwiPVwiICsgb2JqW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0aW9ucy5ib2R5ID0gYXJyLmpvaW4oJyYnKTtcbiAgICAgICAgdGhpcy5vcHRpb25zLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogc2VuZCBmZXRjaCByZXF1ZXN0XG4gICAgICogZ2V0IHJlc3BvbnNlJ3MgZGF0YVxuICAgICAqIHJlc29sdmU6XG4gICAgICogICAgICBpZiByZXNwb25zZSBjb250ZW50LXR5cGUgaXMgbnVsbCx0aGVuIHJlc29sdmUgbnVsbFxuICAgICAqICAgICAgaWYgcmVzcG9uc2UgY29udGVudC10eXBlIGhhcyBzdHJpbmcganNvbix0aGVuIHJlYWQgcmVzcG9uc2UgZGF0YSBhcyBqc29uIGFuZCByZXNvbHZlIHB1cmUganNvblxuICAgICAqICAgICAgZWxzZSByZWFkIHJlc3BvbnNlIGRhdGEgYXMgdGV4dCBhbmQgcmVzb2x2ZSBwbGFpbiB0ZXh0XG4gICAgICovXG4gICAgUmVxdWVzdC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5oYXNTZW5kKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmVycm9yID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcy5yZXNwb25zZURhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KF90aGlzLmVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5oYXNTZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgZmV0Y2hTdGFydEhvb2sgPSBleHBvcnRzLnJlcXVlc3RDb25maWcuZmV0Y2hTdGFydEhvb2ssIGZldGNoRW5kSG9va18xID0gZXhwb3J0cy5yZXF1ZXN0Q29uZmlnLmZldGNoRW5kSG9vaztcbiAgICAgICAgICAgICAgICBmZXRjaFN0YXJ0SG9vayAmJiBmZXRjaFN0YXJ0SG9vayhfdGhpcyk7XG4gICAgICAgICAgICAgICAgZmV0Y2goX3RoaXMub3B0aW9ucy51cmwsIF90aGlzLm9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRUeXBlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvLipqc29uLiovLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkRnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzcG9uc2VEYXRhID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBmZXRjaEVuZEhvb2tfMSAmJiBmZXRjaEVuZEhvb2tfMShfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hFbmRIb29rXzEgJiYgZmV0Y2hFbmRIb29rXzEoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoX3RoaXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHNlbmQgcmVxdWVzdCBmb2xsb3cgX2xpbmtzJ3MgaHJlZlxuICAgICAqIHJlc29sdmU6XG4gICAgICogICAgICBpZiByZXNwb25zZSBjb250ZW50LXR5cGUgaXMgbnVsbCx0aGVuIHJlc29sdmUgbnVsbFxuICAgICAqICAgICAgaWYgcmVzcG9uc2UgY29udGVudC10eXBlIGhhcyBzdHJpbmcganNvbix0aGVuIHJlYWQgcmVzcG9uc2UgZGF0YSBhcyBqc29uIGFuZCByZXNvbHZlIHB1cmUganNvblxuICAgICAqICAgICAgZWxzZSByZWFkIHJlc3BvbnNlIGRhdGEgYXMgdGV4dCBhbmQgcmVzb2x2ZSBwbGFpbiB0ZXh0XG4gICAgICovXG4gICAgUmVxdWVzdC5wcm90b3R5cGUuZm9sbG93ID0gZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZG9Gb2xsb3coZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlua3MgPSBkYXRhWydfbGlua3MnXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGxpbmtzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh1cmwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsWydocmVmJ107XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRzLmdldCh1cmwpLnNlbmQoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9Gb2xsb3coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoc2VsZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChzZWxmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lcnJvciA9IFwibm8ga2V5PVwiICsga2V5ICsgXCIgaW4gbGlua3MgXCIgKyBKU09OLnN0cmluZ2lmeShsaW5rcywgbnVsbCwgNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2VuZCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkb0ZvbGxvdyhkYXRhKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChzZWxmKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHNlbGYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcXVlc3Q7XG59KCkpO1xuZXhwb3J0cy5SZXF1ZXN0ID0gUmVxdWVzdDtcbmV4cG9ydHMucmVxdWVzdENvbmZpZyA9IHtcbiAgICBnbG9iYWxGZXRjaE9wdGlvbnM6IHt9LFxuICAgIGJhc2VVUkw6ICcvJyxcbiAgICBmZXRjaFN0YXJ0SG9vazogbnVsbCxcbiAgICBmZXRjaEVuZEhvb2s6IG51bGxcbn07XG4vKipcbiAqIG1ha2UgaHR0cCBnZXQgcmVxdWVzdFxuICogQHBhcmFtIHBhdGggdXJsIHBhdGhcbiAqL1xuZXhwb3J0cy5nZXQgPSBidWlsZEh0dHBNZXRob2RGdW5jdGlvbignR0VUJyk7XG4vKipcbiAqIG1ha2UgaHR0cCBwb3N0IHJlcXVlc3RcbiAqIEBwYXJhbSBwYXRoIHVybCBwYXRoXG4gKi9cbmV4cG9ydHMucG9zdCA9IGJ1aWxkSHR0cE1ldGhvZEZ1bmN0aW9uKCdQT1NUJyk7XG4vKipcbiAqIG1ha2UgaHR0cCBwYXRjaCByZXF1ZXN0XG4gKiBAcGFyYW0gcGF0aCB1cmwgcGF0aFxuICovXG5leHBvcnRzLnBhdGNoID0gYnVpbGRIdHRwTWV0aG9kRnVuY3Rpb24oJ1BBVENIJyk7XG4vKipcbiAqIG1ha2UgaHR0cCBwdXQgcmVxdWVzdFxuICogQHBhcmFtIHBhdGggdXJsIHBhdGhcbiAqL1xuZXhwb3J0cy5wdXQgPSBidWlsZEh0dHBNZXRob2RGdW5jdGlvbignUFVUJyk7XG4vL25vaW5zcGVjdGlvbiBSZXNlcnZlZFdvcmRBc05hbWVcbi8qKlxuICogbWFrZSBodHRwIHJlbW92ZSByZXF1ZXN0XG4gKiBAcGFyYW0gcGF0aCB1cmwgcGF0aFxuICovXG5leHBvcnRzLmRlbGV0ZU1ldGhvZCA9IGJ1aWxkSHR0cE1ldGhvZEZ1bmN0aW9uKCdERUxFVEUnKTtcbi8qKlxuICogbW9ja1JlcXVlc3QgYSByZXF1ZXN0IHdpdGggZGF0YVxuICogQHBhcmFtIHtvYmplY3R9IGRhdGFcbiAqL1xuZnVuY3Rpb24gbW9ja1JlcXVlc3QoZGF0YSkge1xuICAgIHZhciB1cmwgPSBkYXRhWydfbGlua3MnXVsnc2VsZiddWydocmVmJ107XG4gICAgdmFyIHJlcSA9IG5ldyBSZXF1ZXN0KHsgdXJsOiB1cmwsIG1ldGhvZDogJ0dFVCcgfSk7XG4gICAgcmVxLnJlc3BvbnNlRGF0YSA9IGRhdGE7XG4gICAgcmVxLmhhc1NlbmQgPSB0cnVlO1xuICAgIHJldHVybiByZXE7XG59XG5leHBvcnRzLm1vY2tSZXF1ZXN0ID0gbW9ja1JlcXVlc3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0LmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vcmVxdWVzdC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==")},,,,/*!*********************!*\
  !*** multi request ***!
  \*********************/
function(g,I,C){g.exports=C(/*! ./request.js */0)}]);